Жизненный цикл компонента

## Mounting

1. Первым при инициализации идет **constructor()** из класса

2. Затем **getDerivedStateFromprops(nextProps, prevState)** - это статический метод, который инициализирует стейт от пропов. практически не используется

3. Метод **render()** , вызываются все createElement , Babel транспилирует JSX в JS и возвращает виртуальный дом, т.е каким он должен быть

4. После того как виртуальный дом готов , вызывается **componentDidMount**. На этом этапе уже DOM существует.

Обычно в этом методе делаются

- AJAX запросы
- навешиваем слушателей событий
- производятся операции с DOM API

## Updating

Перерендер компонента происходит в 2 случаях

- Обновление PROPS
- Обновление STATE

При наступлении одного из этих условий вызывается метод

1. **shoudComponentUpdate(nextProps, nextState)**

Вызывается для оптимизиции.

Он принимает новые props и новый state и сравнивает их c текущими.

Если они отличаюся то метод возвращает TRUE и вызывается метод render() и компонент перерендеривается, и наоборот если пропсы и стейт одинаковые то и сымсла перерендервать компонент нет

2. **getSnapshotBeforeUpdate(prevProps, prevState)**

Этот метод вызывается когда все готово для того чтобы отобразить в DOM
Можно получать значения из DOM перед обновой
Возвращаемое значение этого метода попадет в третий параметр componentDidUpdate

3. **componentDidUpdate(prevProps, prevState, snapshot)**

После того как компонент обновился вызывается этот метод
В этом методе можно вызывать setState
Делать AJAX запросы

## Unmount

1. **componentWillUnmount()**

Когда компонент удаляется из DOM, то вызывается этот метод.
Используется для очистки от слушателей, таймеров и прочего барахла
